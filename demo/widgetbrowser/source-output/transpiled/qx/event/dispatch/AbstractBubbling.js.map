{
  "version": 3,
  "sources": [
    "AbstractBubbling.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "implement",
    "event",
    "IEventDispatcher",
    "type",
    "construct",
    "manager",
    "_manager",
    "members",
    "_getParent",
    "target",
    "Error",
    "canDispatchEvent",
    "getBubbles",
    "dispatchEvent",
    "parent",
    "captureListeners",
    "bubbleListeners",
    "localList",
    "listener",
    "context",
    "currentTarget",
    "targetList",
    "getListeners",
    "push",
    "bubbleList",
    "bubbleTargets",
    "captureList",
    "captureTargets",
    "setEventPhase",
    "Event",
    "CAPTURING_PHASE",
    "i",
    "length",
    "setCurrentTarget",
    "j",
    "jl",
    "isDisposed",
    "warn",
    "isBlacklisted",
    "unique",
    "handler",
    "call",
    "getPropagationStopped",
    "AT_TARGET",
    "il",
    "BUBBLING_PHASE",
    "dispatch",
    "AbstractBubbling"
  ],
  "mappings": "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",
  "file": "AbstractBubbling.js",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * Event dispatcher for all bubbling events.\n */\nqx.Class.define(\"qx.event.dispatch.AbstractBubbling\",\n{\n  extend : qx.core.Object,\n  implement : qx.event.IEventDispatcher,\n  type : \"abstract\",\n\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * Create a new instance\n   *\n   * @param manager {qx.event.Manager} Event manager for the window to use\n   */\n  construct : function(manager) {\n    this._manager = manager;\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      EVENT DISPATCHER HELPER\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Returns the parent of the given target\n     *\n     * @abstract\n     * @param target {var} The target which parent should be found\n     * @return {var} The parent of the given target\n     */\n    _getParent : function(target) {\n      throw new Error(\"Missing implementation\");\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT DISPATCHER INTERFACE\n    ---------------------------------------------------------------------------\n    */\n\n    // interface implementation\n    canDispatchEvent : function(target, event, type) {\n      return event.getBubbles();\n    },\n\n\n    // interface implementation\n    dispatchEvent : function(target, event, type)\n    {\n      var parent = target;\n      var manager = this._manager;\n      var captureListeners, bubbleListeners;\n      var localList;\n      var listener, context;\n      var currentTarget;\n\n      // Cache list for AT_TARGET\n      var targetList = [];\n\n      captureListeners = manager.getListeners(target, type, true);\n      bubbleListeners = manager.getListeners(target, type, false);\n\n      if (captureListeners) {\n        targetList.push(captureListeners);\n      }\n\n      if (bubbleListeners) {\n        targetList.push(bubbleListeners);\n      }\n\n      // Cache list for CAPTURING_PHASE and BUBBLING_PHASE\n      var parent = this._getParent(target);\n\n      var bubbleList = [];\n      var bubbleTargets = [];\n\n      var captureList = [];\n      var captureTargets = [];\n\n      // Walk up the tree and look for event listeners\n      while (parent != null)\n      {\n        // Attention:\n        // We do not follow the DOM2 events specifications here\n        // http://www.w3.org/TR/2000/REC-DOM-Level-2-Events-20001113/events.html#Events-flow-capture\n        // Opera is the only browser which conforms to the spec.\n        // Safari and Mozilla do it the same way like qooxdoo does\n        // and add the capture events of the target to the execution list.\n        captureListeners = manager.getListeners(parent, type, true);\n        if (captureListeners)\n        {\n          captureList.push(captureListeners);\n          captureTargets.push(parent);\n        }\n\n        bubbleListeners = manager.getListeners(parent, type, false);\n\n        if (bubbleListeners)\n        {\n          bubbleList.push(bubbleListeners);\n          bubbleTargets.push(parent);\n        }\n\n        parent = this._getParent(parent);\n      }\n\n\n      // capturing phase\n      // loop through the hierarchy in reverted order (from root)\n      event.setEventPhase(qx.event.type.Event.CAPTURING_PHASE);\n      for (var i=captureList.length-1; i>=0; i--)\n      {\n        currentTarget = captureTargets[i];\n        event.setCurrentTarget(currentTarget);\n\n        localList = captureList[i];\n        for (var j=0, jl=localList.length; j<jl; j++)\n        {\n          listener = localList[j];\n          context = listener.context || currentTarget;\n\n          if (qx.core.Environment.get(\"qx.debug\")) {\n            // warn if the context is disposed\n            if (context && context.isDisposed && context.isDisposed()) {\n              this.warn(\n                \"The context object '\" + context + \"' for the event '\" +\n                type + \"' of '\" + currentTarget + \"'is already disposed.\"\n              );\n            }\n          }\n          if (!this._manager.isBlacklisted(listener.unique)) {\n            listener.handler.call(context, event);\n          }\n        }\n\n        if (event.getPropagationStopped()) {\n          return;\n        }\n      }\n\n\n      // at target\n      event.setEventPhase(qx.event.type.Event.AT_TARGET);\n      event.setCurrentTarget(target);\n      for (var i=0, il=targetList.length; i<il; i++)\n      {\n        localList = targetList[i];\n        for (var j=0, jl=localList.length; j<jl; j++)\n        {\n          listener = localList[j];\n          context = listener.context || target;\n\n          if (qx.core.Environment.get(\"qx.debug\")) {\n            // warn if the context is disposed\n            if (context && context.isDisposed && context.isDisposed()) {\n              this.warn(\n                \"The context object '\" + context + \"' for the event '\" +\n                type + \"' of '\" + target + \"'is already disposed.\"\n              );\n            }\n          }\n\n          listener.handler.call(context, event);\n        }\n\n        if (event.getPropagationStopped()) {\n          return;\n        }\n      }\n\n\n      // bubbling phase\n      // loop through the hierarchy in normal order (to root)\n      event.setEventPhase(qx.event.type.Event.BUBBLING_PHASE);\n      for (var i=0, il=bubbleList.length; i<il; i++)\n      {\n        currentTarget = bubbleTargets[i];\n        event.setCurrentTarget(currentTarget);\n\n        localList = bubbleList[i];\n        for (var j=0, jl=localList.length; j<jl; j++)\n        {\n          listener = localList[j];\n          context = listener.context || currentTarget;\n\n          if (qx.core.Environment.get(\"qx.debug\")) {\n            // warn if the context is disposed\n            if (context && context.isDisposed && context.isDisposed()) {\n              this.warn(\n                \"The context object '\" + context + \"' for the event '\" +\n                type + \"' of '\" + currentTarget + \"'is already disposed.\"\n              );\n            }\n          }\n\n          listener.handler.call(context, event);\n        }\n\n        if (event.getPropagationStopped()) {\n          return;\n        }\n      }\n    }\n  }\n});\n"
  ]
}